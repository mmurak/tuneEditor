<html>
  <head>
    <title>ざっくりした説明</title>
  </head>
  <body>
    <h2>概要</h2>
      <p>　現在このページは、開発中のTuneEditorのざっくりとした説明＆開発状況記録ページとなっています。</p>
      <p>　最新版（プロトタイプ/20210614）へのリンクは以下にあります（プロトタイプというのは、あくまでもユーザーインターフェースやパフォーマンスを評価するためのものであり、最終的には破棄することが前提なので、ソースコードの中身は、過去の経緯（=垢）を含んでいたり、アドホックなパッチアップが満載で目が潰れます。良い子は見ないように、、、 ^o^）。</p>

      <ul>
      <li><a href="./tuneEditor.html">プロトタイプ/210614</a></li>
      </ul>

    <h2>使用方法</h2>

      <p>全体的な使用の流れは以下の通りです。</p>

      <ol>
      <li>描画対象となるキャンバス（描画領域）の横幅を右上のドロップダウンボックスから選択する（300ピクセルから100ピクセル刻みで1,600ピクセルまで指定可能）。</li>
      <li>Sentence input領域に文章を入力していく（下のキャンバスに文字と音節（予備軍）としての●が表示される（なお、辞書から発音を取得して音節主音を導き出すような処理はしておらず、文字「aeiouy」が1つ以上連続している部分を音節（予備軍）として扱っているため、「take」などは2音節のように表示される。こういった●は次項で説明する方法で非表示／表示を切り替えることが可能）。</li>
      <li>不要な●付近をマウスでクリックし、強調（赤色）表示にした後で、「Make item invisible」ボタンを押す。</li>
      <li>イントネーション句の区切りは、「Separator」ボタンをクリックし（ボタン色が青に変わる、もう一度クリックするとキャンセル）、キャンバス上の適切な場所をクリックする。</li>
      <li>音の高さ／強さを設定したい●をクリックして強調表示にした後、適切な高さ／強さのボタンを押す（クリック後は自動的に次の音節が強調表示される）。</li>
      <li>設定した音節が音調核に相当する場合、続けて音調核設定ボタンを押すと（強調表示自体は次の音節に移っているものの）、直前に音の高さ／強さを設定した音節にパターンが設定される）。</li>
      <li>途中の音節からやり直したい場合は、該当音節をクリックし、5〜6を繰り返す。</li>
      <li>作業が終わったのであれば、「Save Imager」リンクをクリックすると、JPEG形式でキャンバスの内容が出力される。</li>
      </ol>

      <p>　なお、、、</p>

      <ul>
      <li>●、区切り棒（|）はドラッグで位置を微調整できる。</li>
      <li>いったん非表示にした●、区切り棒を再表示させたい場合、「Make item visible again」をクリックすると（もう一度クリックするとキャンセル）、ボタン色が青に変わり、非表示にしていた要素が青で表示されるため、表示させたい要素をクリックする（複数ある場合はボタンのクリックから手順を繰り返す）。</li>
      </ul>

    <h2>その他留意点など（と、追加機能の情報）</h2>
      <ul>
      <li>プロトタイプ/210527から、●編集に入ってからもテキスト入力を修正できるようにしました（大変だった orz）。このため、多少変な挙動が残っているかもしれません。</li>
      <li>Tone Stress Markについては実験的に、テキスト領域へのマークアップ形式での入力を実装中です。プリフィックス文字（半角単一引用符を2回「''」）+指示文字（lf, hf, rf, lr, hr, fr, ml, h1, h2, h3, l1, l2, l3, hh）で入ります。<br/>
      音調核<br/>
      <table border="1">
      <tr><th>Low Fall（ ̖）</th><th>High Fall（ ̀）</th><th>Low Rise（ ̗）</th><th>High Rise（ ́）</th><th>Rise Fall（ ̂）</th><th>Fall Rise（ ̌）</th><th>Mid. Level（>）</th></tr>
      <tr><td>''lf</td><td>''hf</td><td>''lr</td><td>''hr</td><td>''rf</td><td>''fr</td><td>''ml</td></tr>
      </table>
      前頭部/頭部/尾部でストレスが置かれる音節<br/>
      <table border="1">
      <tr><th>ˈ</th><th>ˌ</th><th> ̊</th><th> ̥</th><th>↘</th><th>↗</th></tr>
      <tr><td>''h1</td><td>''l1</td><td>''h2</td><td>''l2</td><td>''h3</td><td>''l3</td></tr>
      </table><br/>
      前頭部で高く発音する音節
      <table border="1">
      <tr><th> ̅</th></tr>
      <tr><td>''hh</td></tr>
      </table>
</li>
      <li>プロトタイプ/210531から、アンダーラインも追加しました。プリフィックス文字＋bs（bull sh*tの略ではありません ^^;）でアンダーライン開始位置、プリフィックス＋bfでアンダーラインの終了位置を指定します。このため「good」に下線を引きたい場合、「''bsgood''bf」と指定することになります。</li>
      <li>プロトタイプ/210603では、「母音相当文字」（aeiouy）が含まれていない音節（hasn't等の音節主音的子音）に●を追加するためのマークアップを追加。プリフィックス文字＋「aa」で●が表示されます。</li>
      <li>プロトタイプ/210606では、Shift+矢印キー（↑↓←→）で音調核の「尻尾」の大きさを変更できるようにしました。また、尻尾の先っぽの上下位置を矢印キー（↑↓）で変更できるようにもしました。音調核を選択し、キーボードから設定できます。</li>
      <li>さらにプロトタイプ210606では、久保先生の示唆により（ありがとうございます）、画面にキーボード入力のマークアップ凡例を表示するようにしています。</li>
      <li>プロトタイプ/210614では、久保先生の示唆により（いつもありがとうございます）、Low/High-Riseの●の尻尾の先（終点）の位置を少し下げてみました。例によって矢印キー（↑↓）での微調整は可能です。</li>
      <li>あと、ドキュメントに書き忘れてましたが、Shiftキーを押しながら音節の高さ／強さボタンを押すと、自動での音節移動機能は抑止されます。このため、「とりあえずどのように表示されるか確認してみたい」という場合には、Shiftキーを押しながら高さ／強さボタンを押してください。</li>
      </ul>


    <h2>過去の残滓</h2>

      <p>プロトタイプ/210527以前のプロトタイプです。</p>
      <ul>
      <li><a href="./syllablesMarkIVM.html">プロトタイプ4（改）</a>（縦棒とドラッグに対応、キャンバスを1600ピクセルに）</li>
      <li><a href="./syllablesMarkIV.html">プロトタイプ4</a></li>
      <li><a href="./syllablesMarkIIM.html">プロトタイプ2（改）</a></li>
      </ul>

  </body>
</html>
