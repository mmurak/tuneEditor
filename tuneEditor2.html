<html>
  <head>
    <title>TuneEditor（Ver. 2.02 alfa）</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
    <link rel="shortcut icon" href="kiwi-bird.png">
    <link rel="stylesheet" href="./tuneEditor.css">
  </head>
  <body style="user-select: none;">
    <div id="wrap">
      <nav class="global-nav">
        <div align="left" id="escmenu">&nbsp;<label id="minidisplay"></label>&nbsp; To execute the command, type the underlined characters.  (Press ESC to close this menu.)<br/><br/>
<img src="./menuIMG/LowFall.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/HighFall.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/RiseFall.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/LowRise.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/HighRise.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/FallRise.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/MidLevel.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<br/>
<img src="./menuIMG/High1.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/High2.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/High3.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/Low1.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/Low2.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/Low3.jpg" height="30" width="120" style="object-fit: cover;object-position: 0 100%;">
<br/>
<img src="./menuIMG/HighPrehead.jpg" height="30" width="180" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/LowPrehead.jpg" height="30" width="180" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/SetUnderline.jpg" height="30" width="150" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/ClearUnderline.jpg" height="30" width="150" style="object-fit: cover;object-position: 0 100%;">
<br/>
<img src="./menuIMG/IntonationPhrase.jpg" height="30" width="180" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/FullStop.jpg" height="30" width="150" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/AddATone.jpg" height="30" width="150" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/SaveWhole.jpg" height="30" width="130" style="object-fit: cover;object-position: 0 100%;">
<img src="./menuIMG/SaveSingle.jpg" height="30" width="170" style="object-fit: cover;object-position: 0 100%;">
      </nav>
      <div class="black-bg" id="js-black-bg"></div>
    </div>
    <input type="button" id="clearButton" value="- Clear All -" onclick="clearfield();" onfocus="blurThis();">
    <a id="download" href="#" download="canvas.jpg" onclick="saveImage();">Save Image</a>
    <a id="download2" href="#" download="upperCanvas.jpg" onclick="saveHalfImage();">（upper half only）</a>
    &nbsp;&nbsp;Canvas width: <select id="canvaswidth" name="canvaswidth" onchange="newCanvasWidth();">
    <option value="9999">- Manual Entry -</option>
    <option value="300">300px</option>
    <option value="400">400px</option>
    <option value="500">500px</option>
    <option value="600">600px</option>
    <option value="700">700px</option>
    <option value="800" selected>800px</option>
    <option value="900">900px</option>
    <option value="1000">1,000px</option>
    <option value="1100">1,100px</option>
    <option value="1200">1,200px</option>
    <option value="1300">1,300px</option>
    <option value="1400">1,400px</option>
    <option value="1500">1,500px</option>
    <option value="1600">1,600px</option>
    </select>&nbsp;&nbsp;
    Centreline: <input type="checkbox" id="centrelineCB" style="display: inline" onclick="centrelineControl()"/>
<br/>
    <table>
    <tr><th>Height</th><th>Stress</th><th>&nbsp;</th><th align="left">Tone</th><th>&nbsp;</th><th align="left">Misc.</th></tr>
    <tr><td align="center">
    8</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(8, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(8, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(8, stressedSize)" ondragstart="return false;">
    </td><td></td><td>
    <input type="button" value="Low/High-Fall" onclick="fall()">
    </td><td></td><td>
    <input type="checkbox" class="checkboxer" id="separator1" onclick="separatorClicked();"/>
    <label class="label" for="separator1">Separator</label>
    </td></tr>
    <tr><td align="center">
    7</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(7, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(7, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(7, stressedSize)" ondragstart="return false;">
    </td><td></td><td>
    <input type="button" value="Rise-Fall" onclick="riseFall()">
    </td><td></td><td>
    </td></tr>
    <tr><td align="center">
    6</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(6, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(6, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(6, stressedSize)" ondragstart="return false;">
    </td><td></td><td>
    <input type="button" value="Low/High-Rise" onclick="rise()">
    </td><td></td><td>
    </td></tr>
    <tr><td align="center">
    5</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(5, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(5, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(5, stressedSize)" ondragstart="return false;">
    </td><td></td><td>
    <input type="button" value="Fall-Rise" onclick="fallRise()">
    </td><td></td><td>
    </td></tr>
    <tr><td align="center">
    4</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(4, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(4, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(4, stressedSize)" ondragstart="return false;">
    </td><td></td><td>
    <input type="button" value="Mid-Level" onclick="midLevel()">
    </td><td></td><td>
    </td></tr>
    <tr><td align="center">
    3</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(3, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(3, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(3, stressedSize)" ondragstart="return false;">
    </td><td></td><td>
    <input type="button" value="-cancel pattern-" onclick="notNucleus()">
    </td><td></td><td>
    </td></tr>
    <tr><td align="center">
    2</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(2, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(2, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(2, stressedSize)" ondragstart="return false;">
    </td><td></td><td></td><td></td><td>
    <input type="button" value="　◀　" onclick="prevAvailableSyllable();cMgr.draw()">
    <input type="button" value="　▶　" onclick="nextAvailableSyllable();cMgr.draw()">
    </td></tr>
    <tr><td align="center">
    1</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(1, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(1, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(1, stressedSize)" ondragstart="return false;">
    </td><td></td><td></td><td></td><td>
    <input type="button" value="Make item invisible" onclick="sendToTheShed()">
    </td></tr>
    <tr><td align="center">
    0</td><td>
    <input type="image" class="btn" src="./images/stress1.png" onclick="setToneStress(0, weakSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress2.png" onclick="setToneStress(0, midSize)" ondragstart="return false;">
    <input type="image" class="btn" src="./images/stress3.png" onclick="setToneStress(0, stressedSize)" ondragstart="return false;">
    </td><td></td><td></td><td></td><td>
    <input type="checkbox" class="checkboxer" id="summon" onclick="retrieveFromTheShed();"/>
    <label class="label" for="summon">Make item visible again</label>
    </td></tr>
    </table>




    <div id="scroll-canvas" style="height: 256px; max-width:810px; overflow-x: scroll;">
      <div class="canvas-wrapper">
        <canvas id="canvas" width="800" height="200" style="border:solid gray 1px;"></canvas>
        <canvas id="cursor" width="800" height="200"></canvas>
      </div>
    </div>

    <canvas id="canvas2" height="53" style="visibility: hidden;"></canvas>

<div class="footer" style="position:absolute; bottom:10;"  id="hiddenArea">

    <script>
      let canvas = document.getElementById("canvas");
      let ccanvas = document.getElementById("cursor");
      let SpecifiedCanvasWidth = 800;  // for Canvas shrinker
      let ScrollAreaWidth = 800;
    </script>

    <script src="./scripts/ToneMark.js"></script>
    <script src="./scripts/BSpline.js"></script>
    <script src="./scripts/ToneNote.js"></script>
    <script src="./scripts/ToneNoteManager.js"></script>
    <!-- script src="./tuneEditor.js" --></script>
    <script src="./scripts/CanvasManager2.js"></script>

    <script>
      let cMgr = new CanvasManager(canvas, ccanvas, 30);
      cMgr.draw();
    </script>

    <script src="./scripts/Dispatcher.js"></script>

    <script>
      let dispatcher = new Dispatcher(KeyDispatcher, MenuDispatcher, cMgr);
    </script>

    <script src="./scripts/TuneEditor2.js"></script>

  </body>
</html>
